«Синхронизация потоков с помощью малых секций и событий»

Объекты синхронизации : Событие1 - устанавливает поток Work для потока main (для вывода итгового массива); критическая секция- синхронизация основного и потока MultElement (сигнализирует о начале запуска MultElement); event2 — устанавливает поток MultElement для потока main (для получения основного результата MultElement).

Поток main должен выполнить следующие действия:

организовать необходимые события и отдельные разделы;
создать массив (тип long), размерность и элементы которого задаются пользователем с консоли;
вывести объемность и элементы исходного массива на консоли;
запустить поток работы;
запустить поток MultElement;
Дождаться потока сигнала работы (использовать событие);
Вывести на элементы экрана массива (итогового);
известить поток MultElement о начале умножения (момент запуска произойдёт после того, как будут выведены на консольные элементы массива) (использовать критическую секцию);
дождаться сигнала потока MultElement (использовать событие);
выведите результат работы экрана потока MultElement.
Поток работы должен выполнить следующие действия:

запросить у пользователя временной интервал, требуемый для отдыха после подготовки одного элемента в массиве;
поиск в массиве квадратов простых чисел (разместить их в массив слева, остальные элементы массива - заполнить нулями). Элементы - целые числа без знака. После каждого готового элемента готовиться в течение заданного интервала времени;
известить поток основного вывода итогового массива (момент запуска произойдёт после того, как будет сформирован массив (использовать событие).
Поток MultElement должен выбрать следующие действия (Для синхронизации с потоком main -use event и критическая секция):

ждёт от потока основной сигнал о начале работы(использовать критическую секцию);
выбрать элементы из итогового массива;
известить) поток main о выводе результата (использовать событие).
